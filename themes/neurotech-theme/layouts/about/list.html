{{ define "main" }}
<section class="section">
  <div class="container">
    <div class="content about-page">{{ .Content }}</div>

    <!-- Team Members Section -->
    <h2 class="section-title section-title-about">Our Team</h2>

    <div class="team-grid">
      {{ range .Site.Data.team.members }}
      <div class="team-card">
        <div class="team-photo-container">
          {{ if .linkedin }}
          <a href="{{ .linkedin }}" target="_blank" rel="noopener noreferrer">
            <img src="{{ printf "images/%s" .image | relURL }}" alt="{{ .name }}" class="team-photo">
          </a>
          {{ else }}
          <img src="{{ printf "images/%s" .image | relURL }}" alt="{{ .name }}" class="team-photo">
          {{ end }}
        </div>
        <h3 class="team-name">{{ replace .name " " "<br />" | safeHTML }}</h3>
        <p class="team-description">{{ .description }}</p>
      </div>
      {{ end }}
    </div>
  </div>
</section>

<script>
  // Shuffle team cards on page load
  document.addEventListener('DOMContentLoaded', function() {
    const teamGrid = document.querySelector('.team-grid');
    if (teamGrid) {
      const cards = Array.from(teamGrid.children);
      // Fisher-Yates shuffle
      for (let i = cards.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [cards[i], cards[j]] = [cards[j], cards[i]];
      }
      // Re-append in shuffled order
      cards.forEach(card => teamGrid.appendChild(card));
    }
  });
</script>
{{ end }}
